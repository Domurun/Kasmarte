<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KasMarte</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Oswald:wght@300;400;500&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-black': '#000000',
                        'brand-white': '#FFFFFF',
                        'paystack': '#0BA4DB',
                    },
                    fontFamily: {
                        header: ['Oswald', 'sans-serif'], 
                        body: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
      /* --- Custom CSS --- */
      :root{ --brand-black: #000; --brand-white: #fff; }
      html,body{height:100%}
      body{ font-family: 'Montserrat', sans-serif; color:var(--brand-black); background:var(--brand-white); -webkit-font-smoothing:antialiased; }

      /* Typography */
      .font-header-dramatic { font-family: 'Oswald', sans-serif; font-weight: 300; text-transform: uppercase; letter-spacing: 0.05em; }

      /* Header */
      header { position: sticky; top:0; z-index:30; background:rgba(255,255,255,0.92); backdrop-filter: blur(6px); border-bottom:1px solid rgba(0,0,0,0.06); }

      /* Mobile Menu */
      #new-menu-overlay { position: fixed; inset: 0; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: var(--brand-white); z-index: 50; opacity: 0; visibility: hidden; transition: all 0.3s ease-in-out; transform: translateY(-10px); }
      #new-menu-overlay.menu-open { opacity: 1; visibility: visible; transform: translateY(0); }

      /* Cards & Images */
      .card{background:var(--brand-white);border-radius:8px;overflow:hidden;}
      .card img{transition:transform .45s ease}
      .group:hover .card img{transform:scale(1.03)}
      
      /* Sections */
      .page-section{display:none}
      .page-section.active{display:block}
      .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

      /* Size Selector */
      .size-selector input:checked + label { background-color: var(--brand-black); color: var(--brand-white); border-color: var(--brand-black); }

      /* Modal */
      .modal-backdrop { background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(2px); transition: all 0.3s ease; }
      .hidden-modal { opacity: 0; visibility: hidden; pointer-events: none; }
      .visible-modal { opacity: 1; visibility: visible; pointer-events: auto; }

      /* Paystack Button Style */
      .btn-paystack { background-color: #0BA4DB; color: white; }
      .btn-paystack:hover { background-color: #0993c3; }

      /* Heart Icon Animation */
      .heart-icon { transition: transform 0.2s, fill 0.2s; }
      .heart-icon:active { transform: scale(0.8); }
      .heart-filled { fill: #ef4444; color: #ef4444; }

      /* Footer Accordion (Mobile) */
      .footer-accordion-btn { cursor: pointer; width: 100%; display: flex; justify-content: space-between; align-items: center; }
      @media (min-width: 768px) {
          .footer-accordion-btn { cursor: default; }
          .footer-accordion-btn span { display: none; }
          .footer-accordion-content { display: block !important; }
      }
    </style>
</head>
<body class="bg-brand-white font-body text-brand-black">

    <div id="size-guide-modal" class="fixed inset-0 z-50 flex items-center justify-center modal-backdrop hidden-modal">
        <div class="bg-brand-white w-full max-w-lg mx-4 md:mx-auto p-8 rounded-lg shadow-2xl relative">
            <button id="close-size-guide" class="absolute top-4 right-4 text-gray-500 hover:text-brand-black transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
            </button>
            <h2 class="font-header-dramatic text-3xl text-center mb-6">Size Guide</h2>
            <div class="overflow-x-auto">
                <table class="w-full text-sm font-body text-left">
                    <thead class="border-b border-gray-200"><tr><th class="py-2">Size</th><th class="py-2">Chest (cm)</th></tr></thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr><td class="py-2 font-bold">S</td><td class="py-2">88-92</td></tr>
                        <tr><td class="py-2 font-bold">M</td><td class="py-2">96-100</td></tr>
                        <tr><td class="py-2 font-bold">L</td><td class="py-2">104-108</td></tr>
                        <tr><td class="py-2 font-bold">XL</td><td class="py-2">112-116</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="new-menu-overlay" class="bg-brand-white z-50">
        <button id="menu-close-inner" class="absolute top-6 right-6 text-brand-black hover:opacity-50 transition-opacity p-1">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
        </button>
        <ul class="flex flex-col items-center space-y-12 mt-2">
            <li><a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity" data-nav="home" aria-label="Home">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
            </a></li>
            <li><a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity" data-nav="store" aria-label="Collection">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
            </a></li>
            <li><a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity" data-nav="lookbook" aria-label="Lookbook">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
            </a></li>
            <li><a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity" data-nav="wishlist" aria-label="Wishlist">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
            </a></li>
            <li><a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity" data-nav="account" aria-label="Account">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
            </a></li>
        </ul>
    </div>

    <header class="bg-brand-white bg-opacity-90 backdrop-blur-sm shadow-sm sticky top-0 z-30">
        <nav class="w-full px-6 md:px-12 py-4 flex justify-between items-center relative">
            
            <div class="hidden md:flex justify-start items-center space-x-8">
                <a href="#" class="hover:opacity-60 transition-opacity" data-nav="home" aria-label="Home" title="Home">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                </a>
                <a href="#" class="hover:opacity-60 transition-opacity" data-nav="store" aria-label="Collection" title="Collection">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"/></svg>
                </a>
                <a href="#" class="hover:opacity-60 transition-opacity" data-nav="lookbook" aria-label="Lookbook" title="Lookbook">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                </a>
            </div>
            
            <div class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
                <a href="#" class="block hover:opacity-80 transition-opacity duration-300" data-nav="home" aria-label="KasMarte Home">
                    <svg id="main-logo" viewBox="0 0 100 24" class="h-6 sm:h-7 w-auto transition-all duration-300">
                        <text x="0" y="20" font-family="Oswald, sans-serif" font-size="20" font-weight="300" fill="#000000" letter-spacing="0.08em">KASMARTE</text>
                    </svg>
                </a>
            </div>
            
            <div class="flex items-center justify-end space-x-6">
                <button id="wishlist-nav-btn" class="hidden md:block hover:opacity-60 transition-opacity relative" data-nav="wishlist" title="Wishlist">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                    <span id="wishlist-count" class="absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center opacity-0 transition-opacity">0</span>
                </button>

                <a href="#" class="hidden md:block hover:opacity-60 transition-opacity" data-nav="account" aria-label="Account" title="Account">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
                </a>

                <button class="md:hidden hover:opacity-60 transition-opacity z-50" id="menu-toggle-btn">
                    <svg id="icon-plus" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" /></svg>
                    <svg id="icon-minus" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20 12H4" /></svg>
                </button>

                <button id="cart-btn" class="hover:opacity-60 transition-opacity relative" title="Shopping Cart">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>
                    <span id="cart-count" class="absolute -top-1 -right-1 bg-brand-black text-brand-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center opacity-0 transition-opacity">0</span>
                </button>
            </div>
        </nav>
    </header>

    <main>
        <section class="page-section active" data-page="home">
            <div class="relative h-[70vh] md:h-screen w-full overflow-hidden bg-black group">
                <video autoplay loop muted playsinline webkit-playsinline class="absolute top-0 left-0 w-full h-full object-cover opacity-80 grayscale group-hover:grayscale-0 transition-all duration-700 ease-in-out">
                    <source src="https://videos.pexels.com/video-files/3205916/3205916-hd_1920_1080_25fps.mp4" type="video/mp4">
                </video>
                <div class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 z-10">
                    <h1 class="font-header-dramatic text-6xl md:text-9xl lg:text-[10rem] leading-none text-brand-white mb-4 drop-shadow-md">KASMARTE</h1>
                    <p class="text-lg md:text-xl font-body font-medium max-w-2xl mx-auto mb-10 text-brand-white drop-shadow-md">Discovery. Luxury. Timeless.</p>
                    <a href="#" data-nav="store" class="inline-block bg-brand-white text-brand-black font-body font-bold text-sm py-3 px-10 rounded-md hover:bg-opacity-80 transition-colors uppercase tracking-wider">Let's take a trip to KasMarte</a>
                </div>
            </div>

            <section class="container mx-auto px-6 py-20" id="about">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-16">The Philosophy</h1>
                <div class="max-w-3xl mx-auto font-body text-lg leading-relaxed space-y-6 text-center">
                    <p class="text-xl">Handcrafted in our studio. We unite artisan tradition with modern design and fair pricing.</p>
                    <div class="bg-gray-100 rounded-lg overflow-hidden aspect-video my-8">
                        <img src="https://images.unsplash.com/photo-1603400521630-9f2de124b33b?auto=format&fit=crop&w=1200&q=80" alt="Studio" class="w-full h-full object-cover">
                    </div>
                    <p>Each piece is designed and crafted in our small studio, focusing on natural materials and the quiet confidence of a perfect fit.</p>
                </div>
            </section>

            <section class="w-full px-6 pb-20">
                <h3 class="font-header-dramatic text-4xl text-center mb-12">Featured Looks</h3>
                <div class="container mx-auto grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="home-teaser cursor-pointer group">
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1594938298603-c8148c4dae35?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                        </div>
                        <h4 class="font-body font-bold text-lg text-center">The Tailored Series</h4>
                    </div>
                    <div class="home-teaser cursor-pointer group">
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                        </div>
                        <h4 class="font-body font-bold text-lg text-center">Leather Essentials</h4>
                    </div>
                    <div class="home-teaser cursor-pointer group">
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0 transition-all duration-500">
                        </div>
                        <h4 class="font-body font-bold text-lg text-center">Evening Silk</h4>
                    </div>
                </div>
                <div class="text-center mt-12">
                    <button data-nav="lookbook" class="border-b border-brand-black pb-1 hover:opacity-60 transition-opacity font-bold uppercase text-sm">View Full Lookbook</button>
                </div>
            </section>
        </section>

        <section class="page-section" data-page="lookbook">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-16">Lookbook</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="aspect-[4/5] bg-gray-100 overflow-hidden"><img src="https://images.unsplash.com/photo-1559551409-dadc959f76b8?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700"></div>
                    <div class="aspect-[4/5] bg-gray-100 overflow-hidden"><img src="https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?auto=format&fit=crop&w=1200&q=80" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700"></div>
                    <div class="md:col-span-2 aspect-[2/1] bg-gray-100 overflow-hidden"><img src="https://images.unsplash.com/photo-1473966968600-fa801b869a1a?auto=format&fit=crop&w=1600&q=80" class="w-full h-full object-cover grayscale hover:grayscale-0 transition-all duration-700"></div>
                </div>
                <div class="text-center mt-16">
                    <p class="mb-4 text-xl">See something you like?</p>
                    <a href="#" data-nav="store" class="inline-block bg-brand-black text-brand-white font-body font-bold text-sm py-3 px-10 rounded-md hover:opacity-80 transition-colors uppercase tracking-wider">Shop the Collection</a>
                </div>
            </div>
        </section>

        <section class="page-section" data-page="store">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-12">Collection</h1>
                
                <div class="max-w-2xl mx-auto mb-16">
                    <div class="relative w-full">
                        <input type="text" id="store-search" placeholder="Search for items..." class="w-full border-b border-brand-black bg-transparent py-3 pl-10 focus:outline-none focus:border-b-2 font-body text-center">
                        <svg class="h-5 w-5 absolute left-2 top-3.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                    </div>
                </div>

                <div id="store-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 animate-fade-in">
                    <div class="product-card store-item group cursor-pointer relative" data-name="linen shirt" data-price="120">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1596755094514-f87e34085b2c?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">Linen Shirt</h4><p class="opacity-70">$120</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-name="chino pants" data-price="160">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1473966968600-fa801b869a1a?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">Chino Trousers</h4><p class="opacity-70">$160</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-name="cashmere sweater" data-price="250">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1610652492500-ded49ceeb378?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">Cashmere Sweater</h4><p class="opacity-70">$250</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-name="jacket" data-price="280">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1584273143981-41c073dfe8f8?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">The Jacket</h4><p class="opacity-70">$280</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-name="leather bag" data-price="195">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1591561954557-26941169b49e?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">Leather Bag</h4><p class="opacity-70">$195</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-name="silk dress" data-price="310">
                        <button class="wishlist-btn absolute top-3 right-3 z-20 text-gray-400 hover:text-red-500 hover:scale-110 transition-all p-2 rounded-full bg-white bg-opacity-80" aria-label="Add to wishlist">
                            <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden mb-4 aspect-[3/4]"><img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=800&q=80" class="w-full h-full object-cover grayscale group-hover:grayscale-0"></div>
                        <h4 class="font-body font-bold text-lg">Silk Dress</h4><p class="opacity-70">$310</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" data-page="wishlist">
             <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-12">Your Wishlist</h1>
                <div id="wishlist-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="col-span-full text-center text-gray-500 py-20">Your wishlist is empty.</div>
                </div>
             </div>
        </section>

        <section class="page-section" data-page="account">
            <div class="container mx-auto px-6 py-12 md:py-24">
                <div class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg border border-gray-100 relative overflow-hidden">
                    
                    <div id="login-form-container" class="animate-fade-in">
                        <h1 class="font-header-dramatic text-4xl text-center mb-8">Log In</h1>
                        <div class="space-y-4">
                             <button class="w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-bold hover:opacity-80 transition">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.88-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78.72.04 1.94-.92 3.23-.79 1.14.11 2.15.58 2.76 1.48-2.48 1.51-2.06 5.86.41 6.89-.54 1.35-1.25 2.71-1.48 3.61zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.44 4.54-3.74 4.25z"/></svg>
                                Apple
                            </button>
                            <button class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-50 transition">
                                <svg class="h-5 w-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
                                Google
                            </button>
                            
                            <div class="relative flex py-2 items-center">
                                <div class="flex-grow border-t border-gray-300"></div>
                                <span class="flex-shrink-0 mx-4 text-gray-400 text-xs uppercase">Or with Email</span>
                                <div class="flex-grow border-t border-gray-300"></div>
                            </div>

                            <form class="space-y-4">
                                <input type="email" placeholder="Email Address" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <input type="password" placeholder="Password" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <button class="w-full bg-brand-black text-brand-white py-3 rounded-lg font-bold hover:opacity-90 transition uppercase tracking-wider">Log In</button>
                            </form>
                            
                            <p class="text-center text-sm text-gray-500 mt-4">Don't have an account? <button id="go-to-signup" class="underline text-brand-black font-medium">Sign Up</button></p>
                        </div>
                    </div>

                    <div id="signup-form-container" class="hidden animate-fade-in">
                        <h1 class="font-header-dramatic text-4xl text-center mb-8">Sign Up</h1>
                        <p class="text-xs text-center text-gray-500 mb-6">Create an account to track orders and checkout faster.</p>
                        <div class="space-y-4">
                             <button class="w-full flex items-center justify-center gap-3 bg-black text-white py-3 rounded-lg font-bold hover:opacity-80 transition">
                                <svg class="h-5 w-5" fill="currentColor" viewBox="0 0 24 24"><path d="M17.05 20.28c-.98.95-2.05.88-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78.72.04 1.94-.92 3.23-.79 1.14.11 2.15.58 2.76 1.48-2.48 1.51-2.06 5.86.41 6.89-.54 1.35-1.25 2.71-1.48 3.61zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.44 4.54-3.74 4.25z"/></svg>
                                Apple
                            </button>
                            <button class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 py-3 rounded-lg font-bold hover:bg-gray-50 transition">
                                <svg class="h-5 w-5" viewBox="0 0 24 24"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
                                Google
                            </button>

                            <div class="relative flex py-2 items-center">
                                <div class="flex-grow border-t border-gray-300"></div>
                                <span class="flex-shrink-0 mx-4 text-gray-400 text-xs uppercase">Or register with Email</span>
                                <div class="flex-grow border-t border-gray-300"></div>
                            </div>

                            <form class="space-y-4">
                                <input type="text" placeholder="Full Name" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <input type="email" placeholder="Email Address" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <input type="password" placeholder="Password" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <input type="password" placeholder="Confirm Password" class="w-full p-3 bg-gray-50 border border-gray-200 rounded focus:border-brand-black focus:outline-none transition">
                                <button class="w-full bg-brand-black text-brand-white py-3 rounded-lg font-bold hover:opacity-90 transition uppercase tracking-wider">Create Account</button>
                            </form>
                            
                            <p class="text-center text-sm text-gray-500 mt-4">Already have an account? <button id="go-to-login" class="underline text-brand-black font-medium">Log In</button></p>
                        </div>
                    </div>

                </div>
            </div>
        </section>

        <section class="page-section" data-page="product-detail">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <div class="mb-8 text-sm"><a href="#" data-nav="store" class="text-gray-500">Store</a> <span class="mx-2">/</span> <span id="detail-breadcrumb-name" class="font-medium">Product</span></div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-20">
                    <div class="bg-gray-50 rounded-lg overflow-hidden aspect-[3/4]"><img id="detail-image" src="" class="w-full h-full object-cover"></div>
                    <div class="flex flex-col justify-center">
                        <h1 id="detail-title" class="font-header-dramatic text-5xl mb-4">Product</h1>
                        <p id="detail-price" class="text-2xl font-bold mb-8">$0.00</p>
                        <p class="mb-8 text-gray-600">Crafted with the finest materials in our Florence atelier. Timeless elegance and modern utility.</p>
                        
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-3">
                                <label class="font-bold uppercase text-sm">Size</label>
                                <button id="size-guide-trigger" class="text-xs underline text-gray-500">Size Guide</button>
                            </div>
                            <div class="flex gap-3 size-selector">
                                <div class="relative"><input type="radio" name="size" id="size-s" class="peer sr-only"><label for="size-s" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer text-sm">S</label></div>
                                <div class="relative"><input type="radio" name="size" id="size-m" class="peer sr-only" checked><label for="size-m" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer text-sm">M</label></div>
                                <div class="relative"><input type="radio" name="size" id="size-l" class="peer sr-only"><label for="size-l" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer text-sm">L</label></div>
                            </div>
                        </div>

                        <div class="flex gap-4">
                            <button id="add-to-cart-btn" class="flex-grow bg-brand-black text-brand-white font-bold text-sm py-4 rounded-md hover:opacity-80 transition uppercase tracking-wider">Add to Cart</button>
                            <button id="detail-wishlist-btn" class="border border-gray-300 text-gray-400 hover:text-red-500 hover:border-red-200 rounded-md p-4 transition-colors" aria-label="Add to wishlist">
                                <svg class="h-6 w-6 heart-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="page-section" data-page="checkout">
            <div class="container mx-auto px-6 py-12">
                <h1 class="font-header-dramatic text-5xl text-center mb-12">Checkout</h1>
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 max-w-6xl mx-auto">
                    <div class="lg:col-span-2 space-y-12">
                        <div>
                            <h2 class="font-header text-2xl mb-6 uppercase">Shipping & Contact</h2>
                            <form class="space-y-4">
                                <div class="grid grid-cols-2 gap-4">
                                    <input type="text" placeholder="First Name" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                    <input type="text" placeholder="Last Name" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                </div>
                                <input type="email" placeholder="Email" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                <input type="text" placeholder="Address" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                <div class="grid grid-cols-2 gap-4">
                                    <input type="text" placeholder="City" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                    <input type="text" placeholder="Postal Code" class="p-3 bg-gray-50 border border-gray-200 w-full">
                                </div>
                            </form>
                        </div>

                        <div>
                            <h2 class="font-header text-2xl mb-6 uppercase">Payment</h2>
                            <div class="space-y-4">
                                <div class="border border-gray-200 rounded p-4 flex items-center gap-3 cursor-pointer hover:border-black">
                                    <input type="radio" name="payment" id="pay-card" checked class="accent-black">
                                    <label for="pay-card" class="font-bold flex-grow cursor-pointer">Credit / Debit Card</label>
                                    <div class="flex gap-1"><div class="w-8 h-5 bg-gray-200 rounded"></div><div class="w-8 h-5 bg-gray-200 rounded"></div></div>
                                </div>
                                
                                <div class="border border-gray-200 rounded p-4 flex items-center gap-3 cursor-pointer hover:border-paystack">
                                    <input type="radio" name="payment" id="pay-paystack" class="accent-paystack">
                                    <label for="pay-paystack" class="font-bold flex-grow cursor-pointer text-paystack">Paystack</label>
                                    <svg class="h-6" viewBox="0 0 100 30" fill="none"><text x="0" y="20" font-weight="bold" fill="#0BA4DB" font-family="sans-serif">Paystack</text></svg>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-1">
                        <div class="bg-gray-50 p-8 rounded-lg border border-gray-200 sticky top-32">
                            <h2 class="font-header text-xl mb-6 uppercase">Order Summary</h2>
                            <div id="checkout-items-container" class="space-y-4 mb-6 border-b pb-6"></div>
                            
                            <div class="flex justify-between font-bold text-xl pt-2 mb-6">
                                <span>Total</span>
                                <span id="checkout-total">$0</span>
                            </div>

                            <div class="bg-blue-50 border border-blue-200 rounded-md p-4 mb-6 flex gap-3 items-start">
                                <svg class="w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                                <p class="text-sm text-blue-800">Please note: Due to our handcrafted process, your order will be available for shipping in <strong>3 weeks</strong>.</p>
                            </div>

                            <button class="w-full bg-brand-black text-brand-white font-bold py-4 rounded-md hover:opacity-90 transition uppercase tracking-wider">Place Order</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="border-t border-brand-black border-opacity-20 mt-12">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                
                <div>
                    <button class="font-bold mb-4 footer-accordion-btn">
                        Brand
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <ul class="space-y-2 text-sm hidden footer-accordion-content">
                        <li><a href="#" class="hover:opacity-70" data-nav="home">Our Story</a></li>
                        <li><a href="#" class="hover:opacity-70" data-nav="home">Poetic Manifesto</a></li>
                        <li><a href="#" class="hover:opacity-70">Careers</a></li>
                    </ul>
                </div>

                <div>
                    <button class="font-bold mb-4 footer-accordion-btn">
                        Help & Support
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <ul class="space-y-2 text-sm hidden footer-accordion-content">
                        <li><a href="#" class="hover:opacity-70">Contact Us</a></li>
                        <li><a href="#" class="hover:opacity-70">FAQ</a></li>
                        <li><a href="#" class="hover:opacity-70">Shipping & Returns</a></li>
                    </ul>
                </div>

                <div>
                    <button class="font-bold mb-4 footer-accordion-btn">
                        Connect
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <div class="space-y-4 text-sm hidden footer-accordion-content">
                        <div class="flex space-x-4">
                            <a href="#" class="hover:opacity-70" title="Instagram">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                            </a>
                            <a href="#" class="hover:opacity-70" title="Facebook">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                            </a>
                            <a href="#" class="hover:opacity-70" title="X (Twitter)">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                            </a>
                            <a href="#" class="hover:opacity-70" title="TikTok">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93v6.16c0 3.13-1.3 6.1-3.54 8.26-2.19 2.13-5.2 3.3-8.21 3.3-3.01 0-6.02-1.17-8.21-3.3-2.24-2.16-3.54-5.13-3.54-8.26s1.3-6.1 3.54-8.26c2.19-2.13 5.2-3.3 8.21-3.3.34 0 .67.02 1 .05v4.07c-.12-.01-.24-.02-.37-.02-3.7 0-6.7 3-6.7 6.7 0 3.7 3 6.7 6.7 6.7 3.67 0 6.67-2.96 6.7-6.66V4.07c0-1.35.45-2.67 1.27-3.74.8-1.06 1.94-1.8 3.2-2.12.03-.02.06-.04.09-.06V.02z"/></svg>
                            </a>
                        </div>

                        <form action="#" method="POST" class="space-y-3">
                            <label for="newsletter" class="sr-only">Subscribe to newsletter</label>
                            <div class="flex">
                                <input id="newsletter" name="newsletter" type="email" placeholder="Email address" class="w-full px-3 py-2 border border-brand-black border-opacity-10 rounded-l-md focus:outline-none text-sm" />
                                <button type="submit" class="bg-brand-black text-brand-white px-4 text-sm rounded-r-md hover:bg-opacity-90 transition-colors">Subscribe</button>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
            <div class="text-center text-sm text-brand-black text-opacity-70 py-4 border-t border-brand-black border-opacity-10">
                &copy; 2025 KasMarte. All Rights Reserved.
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // State
            let cart = [];
            let wishlistCount = 0;
            const pages = document.querySelectorAll('.page-section');
            const cartCountEl = document.getElementById('cart-count');
            const wishlistCountEl = document.getElementById('wishlist-count');
            
            // --- Navigation Logic ---
            function showPage(pageName) {
                // Handle Lookbook redirects from Home
                if(pageName === 'home-lookbook') pageName = 'lookbook';

                pages.forEach(p => p.classList.remove('active'));
                const target = document.querySelector(`.page-section[data-page="${pageName}"]`);
                if(target) target.classList.add('active');
                
                if(pageName === 'checkout') renderCheckout();
                window.scrollTo(0, 0);
                
                // Close Mobile Menu
                document.getElementById('new-menu-overlay').classList.remove('menu-open');
                document.getElementById('icon-plus').classList.remove('hidden');
                document.getElementById('icon-minus').classList.add('hidden');
            }

            // Nav Clicks
            document.querySelectorAll('[data-nav]').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage(link.getAttribute('data-nav'));
                });
            });

            // Mobile Menu Toggle
            const menuBtn = document.getElementById('menu-toggle-btn');
            const menuOverlay = document.getElementById('new-menu-overlay');
            menuBtn.addEventListener('click', () => {
                menuOverlay.classList.toggle('menu-open');
                document.getElementById('icon-plus').classList.toggle('hidden');
                document.getElementById('icon-minus').classList.toggle('hidden');
            });
            document.getElementById('menu-close-inner').addEventListener('click', () => {
                menuOverlay.classList.remove('menu-open');
                document.getElementById('icon-plus').classList.remove('hidden');
                document.getElementById('icon-minus').classList.add('hidden');
            });

            // --- Home Page Teaser Logic ---
            document.querySelectorAll('.home-teaser').forEach(teaser => {
                teaser.addEventListener('click', () => {
                    showPage('lookbook');
                });
            });

            // --- Account Auth Toggle Logic ---
            const loginContainer = document.getElementById('login-form-container');
            const signupContainer = document.getElementById('signup-form-container');
            
            document.getElementById('go-to-signup').addEventListener('click', () => {
                loginContainer.classList.add('hidden');
                signupContainer.classList.remove('hidden');
            });
            
            document.getElementById('go-to-login').addEventListener('click', () => {
                signupContainer.classList.add('hidden');
                loginContainer.classList.remove('hidden');
            });


            // --- Wishlist Logic ---
            function toggleWishlist(btn) {
                const icon = btn.querySelector('svg');
                let isAdded = false;

                if (icon.classList.contains('heart-filled')) {
                    icon.classList.remove('heart-filled');
                    btn.classList.remove('text-red-500');
                    if(btn.classList.contains('text-gray-400')) { /* keep gray */ } else { btn.classList.add('text-gray-400'); }
                    wishlistCount--;
                } else {
                    icon.classList.add('heart-filled');
                    btn.classList.add('text-red-500');
                    btn.classList.remove('text-gray-400');
                    wishlistCount++;
                    isAdded = true;
                }

                if(wishlistCount < 0) wishlistCount = 0;
                wishlistCountEl.textContent = wishlistCount;
                
                if(wishlistCount > 0) {
                    wishlistCountEl.classList.remove('opacity-0');
                } else {
                    wishlistCountEl.classList.add('opacity-0');
                }
            }

            // --- Product Logic ---
            function openProduct(card) {
                // If it's a store item, open detail. If home item, go lookbook (handled above)
                if(card.classList.contains('home-teaser')) return;

                const img = card.querySelector('img').src;
                const title = card.querySelector('h4').textContent;
                const price = card.dataset.price;
                
                document.getElementById('detail-image').src = img;
                document.getElementById('detail-title').textContent = title;
                document.getElementById('detail-price').textContent = '$' + price;
                document.getElementById('detail-breadcrumb-name').textContent = title;

                // Reset Add Button
                const btn = document.getElementById('add-to-cart-btn');
                const newBtn = btn.cloneNode(true);
                btn.parentNode.replaceChild(newBtn, btn);
                
                newBtn.addEventListener('click', () => {
                    const size = document.querySelector('input[name="size"]:checked').id.replace('size-','').toUpperCase();
                    cart.push({name: title, price: parseInt(price), size: size, img: img});
                    updateCart();
                });

                // Reset Detail Wishlist Button
                const wishBtn = document.getElementById('detail-wishlist-btn');
                // Simple reset state for demo (in a real app, check if ID is in wishlist)
                wishBtn.querySelector('svg').classList.remove('heart-filled');
                wishBtn.classList.remove('text-red-500');

                // Remove old listeners on wishlist
                const newWishBtn = wishBtn.cloneNode(true);
                wishBtn.parentNode.replaceChild(newWishBtn, wishBtn);

                newWishBtn.addEventListener('click', (e) => {
                    toggleWishlist(newWishBtn);
                });

                showPage('product-detail');
            }

            document.addEventListener('click', (e) => {
                // Handle Wishlist Button Click specifically
                const wishlistBtn = e.target.closest('.wishlist-btn');
                if (wishlistBtn) {
                    e.stopPropagation(); // Stop card click
                    e.preventDefault();
                    toggleWishlist(wishlistBtn);
                    return; 
                }

                const card = e.target.closest('.store-item');
                if(card) openProduct(card);
            });

            // --- Cart Logic ---
            function updateCart() {
                cartCountEl.textContent = cart.length;
                cartCountEl.classList.remove('opacity-0');
                // Button feedback
                const btn = document.getElementById('add-to-cart-btn');
                if(btn) { btn.textContent = 'Added'; setTimeout(() => btn.textContent = 'Add to Cart', 1000); }
            }

            document.getElementById('cart-btn').addEventListener('click', () => showPage('checkout'));

            function renderCheckout() {
                const container = document.getElementById('checkout-items-container');
                container.innerHTML = '';
                let total = 0;
                
                if(cart.length === 0) {
                    container.innerHTML = '<div class="text-gray-500 text-center">Your bag is empty.</div>';
                } else {
                    cart.forEach(item => {
                        total += item.price;
                        container.innerHTML += `
                            <div class="flex gap-4">
                                <div class="w-16 h-20 bg-gray-100"><img src="${item.img}" class="w-full h-full object-cover"></div>
                                <div>
                                    <p class="font-bold text-sm">${item.name}</p>
                                    <p class="text-xs text-gray-500">Size: ${item.size}</p>
                                    <p class="text-sm">$${item.price}</p>
                                </div>
                            </div>
                        `;
                    });
                }
                document.getElementById('checkout-total').textContent = '$' + total;
            }

            // --- Search Logic (Filters removed) ---
            const searchInput = document.getElementById('store-search');
            if (searchInput) {
                searchInput.addEventListener('input', () => {
                    const search = searchInput.value.toLowerCase();
                    document.querySelectorAll('.store-item').forEach(item => {
                        const name = item.dataset.name.toLowerCase();
                        item.classList.toggle('hidden', !name.includes(search));
                    });
                });
            }

             // --- Modal Logic ---
             const modal = document.getElementById('size-guide-modal');
             document.getElementById('size-guide-trigger').addEventListener('click', () => {
                 modal.classList.remove('hidden-modal');
                 modal.classList.add('visible-modal');
             });
             document.getElementById('close-size-guide').addEventListener('click', () => {
                 modal.classList.remove('visible-modal');
                 modal.classList.add('hidden-modal');
             });

             // --- Footer Accordion Logic ---
             document.querySelectorAll('.footer-accordion-btn').forEach(button => {
                button.addEventListener('click', () => {
                    // Only active on small screens where content is hidden by default
                    if (window.innerWidth < 768) {
                        const content = button.nextElementSibling;
                        const icon = button.querySelector('span');
                        const isHidden = content.classList.contains('hidden');
                        
                        // Reset all first
                        document.querySelectorAll('.footer-accordion-content').forEach(el => el.classList.add('hidden'));
                        document.querySelectorAll('.footer-accordion-btn span').forEach(el => el.textContent = '+');

                        if (isHidden) {
                            content.classList.remove('hidden');
                            icon.textContent = '-';
                        }
                    }
                });
             });
        });
    </script>
</body>
</html>