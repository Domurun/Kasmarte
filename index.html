<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KasMarte</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts Import -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Oswald:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Custom Tailwind Configuration -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'brand-black': '#000000',
                        'brand-white': '#FFFFFF',
                    },
                    fontFamily: {
                        // Headers (ALTA approximation)
                        header: ['Oswald', 'sans-serif'], 
                        // Body (Montserrat Classic)
                        body: ['Montserrat', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    
    <style>
      /* --- Custom CSS for Aesthetic Consistency and Fallbacks --- */
      :root{
        --brand-black: #000;
        --brand-white: #fff;
        --container-max: 1200px;
      }

      /* Base Styles */
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0;
        font-family: 'Montserrat', sans-serif;
        color:var(--brand-black);
        background:var(--brand-white);
        -webkit-font-smoothing:antialiased;
        -moz-osx-font-smoothing:grayscale;
      }

      /* Tailwind utility fallbacks used by the page */
      .bg-brand-white{background:var(--brand-white)}
      .text-brand-black{color:var(--brand-black)}
      .font-body{font-family:'Montserrat',sans-serif}
      .font-header{font-family:'Oswald',sans-serif;font-weight:300;letter-spacing:.08em}

      /* Simple container like Tailwind's 'container mx-auto px-6' */
      .container{
        max-width:var(--container-max);
        margin:0 auto;
        padding-left:24px;
        padding-right:24px;
      }

      /* Header / nav styling */
      header {
        position: sticky;
        top:0;
        z-index:30;
        background:rgba(255,255,255,0.92);
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
        border-bottom:1px solid rgba(0,0,0,0.06);
      }
      /* Removed conflicting grid CSS for nav */
      nav a {color:inherit;text-decoration:none}

      /* Style for the dramatic, thin header text */
      .font-header-dramatic {
          font-family: 'Oswald', sans-serif;
          font-weight: 300;
          text-transform: uppercase;
          letter-spacing: 0.05em;
      }

      /* Basic responsive grid utilities used by the page */
      .grid{display:grid;gap:1.5rem}
      .grid-cols-1{grid-template-columns:1fr}
      @media(min-width:768px){ .md\:grid-cols-2{grid-template-columns:repeat(2,1fr)} }
      @media(min-width:1024px){ .lg\:grid-cols-3{grid-template-columns:repeat(3,1fr)} .lg\:grid-cols-4{grid-template-columns:repeat(4,1fr)} }

      /* Video hero specific styles */
      .relative{position:relative}
      .absolute{position:absolute}
      .inset-0{top:0;right:0;bottom:0;left:0}
      .object-cover{object-fit:cover}
      .h-\[70vh\]{height:70vh}
      @media(min-width:768px){ .md\:h-screen{height:100vh} }
      .hero-overlay{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;padding:1.5rem}
      .video-overlay-text {
          text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.5);
      }

      /* Heading sizes */
      h1.font-header-dramatic{margin:0}
      h1.text-6xl{font-size:3.5rem;line-height:1}
      @media(min-width:768px){ h1.md\:text-9xl{font-size:6rem} }

      /* Buttons (Generic) */
      .button{
        display:inline-block;
        background:var(--brand-white);
        color:var(--brand-black);
        padding:.6rem 1.25rem;
        border-radius:6px;
        text-transform:uppercase;
        font-weight:700;
        letter-spacing:.08em;
        text-decoration:none;
        transition:opacity .25s, background .25s;
      }
      .button:hover{opacity:.85}

      /* Cards / product details */
      .card{background:var(--brand-white);border-radius:8px;overflow:hidden;box-shadow:0 6px 20px rgba(0,0,0,0.04);border:1px solid rgba(0,0,0,0.06)}
      .card img{width:100%;height:auto;display:block;transition:transform .45s ease}
      .group:hover .card img{transform:scale(1.03)}
      img { max-width: 100%; height: auto; } /* Ensure responsive images */

      /* Footer accordion behavior helpers */
      .footer-accordion-btn{cursor:pointer;background:transparent;border:0;padding:0;display:flex;justify-content:space-between;align-items:center;width:100%; font-family: 'Montserrat', sans-serif;}
      .footer-accordion-content.hidden{display:none}
      .footer-accordion-content{margin:0;padding-left:0}
      .footer-accordion-btn span {
          transition: transform 0.3s ease;
      }
      .footer-accordion-btn.open span {
          transform: rotate(45deg);
      }
      @media (min-width: 768px) {
          /* Disable accordions on desktop */
          .footer-accordion-btn span { display: none !important; }
          .footer-accordion-content.hidden { display: block !important; }
          .footer-accordion-btn { cursor: default; }
      }


      /* Menu overlay for mobile/compact nav - UPDATED FOR FULL SCREEN */
      #new-menu-overlay {
          position: fixed;
          inset: 0;
          width: 100%;
          height: 100%;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          background: var(--brand-white);
          z-index: 50; /* Higher z-index to cover everything */
          opacity: 0;
          visibility: hidden;
          transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
          transform: translateY(-10px);
      }
      #new-menu-overlay.menu-open {
          opacity: 1;
          visibility: visible;
          transform: translateY(0);
      }

      /* Utility spacing used across page */
      .px-6{padding-left:24px;padding-right:24px}
      .py-12{padding-top:3rem;padding-bottom:3rem}
      .py-20{padding-top:5rem;padding-bottom:5rem}
      .text-center{text-align:center}

      /* Responsive tweaks */
      @media(min-width:768px){
        .container{padding-left:32px;padding-right:32px}
        .text-lg{font-size:1.125rem}
      }

      /* Ensure page sections have proper flow and dynamic visibility */
      .page-section{display:none}
      .page-section.active{display:block}
      .page-section.active .grid { display: grid; }

      /* Animation for forms and sections */
      .animate-fade-in {
          animation: fadeIn 0.5s ease-out forwards;
      }
      @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
      }

      /* Filter Buttons Active State */
      .filter-btn.active {
          background-color: var(--brand-black);
          color: var(--brand-white);
      }
      
      /* Size Selector Radio Styling */
      .size-selector input:checked + label {
          background-color: var(--brand-black);
          color: var(--brand-white);
          border-color: var(--brand-black);
      }

      /* Wishlist Heart Animation */
      .wishlist-btn svg {
          transition: fill 0.3s ease, stroke 0.3s ease, transform 0.2s ease;
      }
      .wishlist-btn.active svg {
          fill: #000000;
          stroke: #000000;
          transform: scale(1.1);
      }
      .wishlist-btn:active svg {
          transform: scale(0.9);
      }

      /* Modal Styles */
      .modal-backdrop {
          background-color: rgba(0, 0, 0, 0.5);
          backdrop-filter: blur(2px);
      }
      #size-guide-modal {
          transition: opacity 0.3s ease, visibility 0.3s ease;
      }
      #size-guide-modal.hidden-modal {
          opacity: 0;
          visibility: hidden;
          pointer-events: none;
      }
      #size-guide-modal.visible-modal {
          opacity: 1;
          visibility: visible;
          pointer-events: auto;
      }
    </style>
</head>
<body class="bg-brand-white font-body text-brand-black">

    <!-- Full Screen Menu Overlay (Hidden by default) -->
    <div id="new-menu-overlay" class="bg-brand-white z-50">
        <!-- Close Button inside Menu -->
        <button id="menu-close-inner" class="absolute top-6 right-6 text-brand-black hover:opacity-50 transition-opacity p-1" aria-label="Close menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
        </button>

        <!-- Navigation Links in Overlay (Icons Only) -->
        <ul class="flex flex-col items-center space-y-10 mt-2">
            <!-- Home Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="home" title="Home" aria-label="Home">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 11.5L12 4l9 7.5M5 21h14a1 1 0 001-1V11.5L12 5 4 11.5V20a1 1 0 001 1z"/>
                    </svg>
                </a>
            </li>

            <!-- Store Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="store" title="Store" aria-label="Store">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
                    </svg>
                </a>
            </li>

            <!-- Wishlist Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="wishlist" title="Wishlist" aria-label="Wishlist">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                    </svg>
                </a>
            </li>

            <!-- Profile Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="profile" title="Profile" aria-label="Profile">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11c1.657 0 3-1.567 3-3.5S17.657 4 16 4s-3 1.567-3 3.5S14.343 11 16 11zM6 20a6 6 0 0112 0" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 14c-4 0-6 2-6 6" opacity="0"/>
                    </svg>
                </a>
            </li>

            <!-- Male Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="men" title="Men" aria-label="Men">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14 3h7v7M21 3l-8.5 8.5M7 21a6 6 0 100-12 6 6 0 000 12z" />
                    </svg>
                </a>
            </li>

            <!-- Female Link -->
            <li>
                <a href="#" class="flex flex-col items-center hover:opacity-70 transition-opacity duration-300 group" data-nav="women" title="Women" aria-label="Women">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 mb-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 2a5 5 0 00-5 5c0 2.5 2 4.5 4.5 4.5S16 9.5 16 7a5 5 0 00-4-5zM12 11v9" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 20h6" />
                    </svg>
                </a>
            </li>
            
        </ul>
    </div>

    <!-- Size Guide Modal -->
    <div id="size-guide-modal" class="fixed inset-0 z-50 flex items-center justify-center modal-backdrop hidden-modal">
        <div class="bg-brand-white w-full max-w-lg mx-4 md:mx-auto p-8 rounded-lg shadow-2xl relative">
            <button id="close-size-guide" class="absolute top-4 right-4 text-gray-500 hover:text-brand-black transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h2 class="font-header-dramatic text-3xl text-center mb-6">Size Guide</h2>
            <p class="text-sm text-gray-500 text-center mb-6 font-body">All measurements are in centimeters.</p>
            
            <div class="overflow-x-auto">
                <table class="w-full text-sm font-body text-left">
                    <thead class="border-b border-gray-200">
                        <tr>
                            <th class="py-2">Size</th>
                            <th class="py-2">Chest</th>
                            <th class="py-2">Waist</th>
                            <th class="py-2">Hips</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100">
                        <tr>
                            <td class="py-2 font-bold">S</td>
                            <td class="py-2">88-92</td>
                            <td class="py-2">72-76</td>
                            <td class="py-2">88-92</td>
                        </tr>
                        <tr>
                            <td class="py-2 font-bold">M</td>
                            <td class="py-2">96-100</td>
                            <td class="py-2">80-84</td>
                            <td class="py-2">96-100</td>
                        </tr>
                        <tr>
                            <td class="py-2 font-bold">L</td>
                            <td class="py-2">104-108</td>
                            <td class="py-2">88-92</td>
                            <td class="py-2">104-108</td>
                        </tr>
                        <tr>
                            <td class="py-2 font-bold">XL</td>
                            <td class="py-2">112-116</td>
                            <td class="py-2">96-100</td>
                            <td class="py-2">112-116</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="mt-6 text-center">
                <button id="close-size-guide-btn" class="inline-block bg-brand-black text-brand-white font-bold text-xs py-3 px-8 rounded-md hover:bg-opacity-80 transition-colors uppercase tracking-wider">
                    Close
                </button>
            </div>
        </div>
    </div>


    <!-- Header & Navigation -->
    <!-- Resolved layout issue: Switched from Grid to Flexbox with absolute positioning for logo to prevent wrapping -->
    <header class="bg-brand-white bg-opacity-90 backdrop-blur-sm shadow-sm sticky top-0 z-30">
        <nav class="w-full px-6 md:px-12 py-4 flex justify-between items-center relative">
            
            <!-- Left: Navigation Links -->
            <div class="hidden md:flex justify-start items-center space-x-8 font-body font-medium text-sm">
                <a href="#" class="hover:opacity-70 transition-opacity" data-nav="store">Store</a>
                <a href="#" class="hover:opacity-70 transition-opacity" data-nav="men">Uomo</a>
                <a href="#" class="hover:opacity-70 transition-opacity" data-nav="women">Donna</a>
            </div>
            
            <!-- Center: Logo (Absolutely Positioned) -->
            <div class="absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2">
                <a href="#" class="block hover:opacity-80 transition-opacity duration-300" data-nav="home" aria-label="KasMarte Home">
                    <!-- Original SVG Logo - DO NOT REPLACE -->
                    <svg id="main-logo" viewBox="0 0 100 24" class="h-6 sm:h-7 w-auto transition-all duration-300">
                        <text x="0" y="20" font-family="Oswald, sans-serif" font-size="20" font-weight="300" fill="#000000" letter-spacing="0.08em" class="transition-all duration-300">KASMARTE</text>
                    </svg>
                </a>
            </div>
            
            <!-- Right: Navigation Links, Menu Toggle and Cart -->
            <div class="flex items-center justify-end space-x-4">
                <!-- Desktop Links (Hidden on Mobile) -->
                <a href="#" class="hidden md:block hover:opacity-70 transition-opacity font-body font-medium text-sm" data-nav="wishlist">Wishlist</a>
                <a href="#" class="hidden md:block hover:opacity-70 transition-opacity font-body font-medium text-sm" data-nav="profile">Profile</a>

                <!-- Mobile Menu Toggle Button -->
                <button class="md:hidden hover:opacity-70 transition-opacity duration-300 z-50" id="menu-toggle-btn" aria-label="Open menu" title="Open menu" aria-expanded="false">
                    <!-- Plus Icon -->
                    <svg id="icon-plus" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
                    </svg>
                    <!-- Minus Icon (Hidden) -->
                    <svg id="icon-minus" xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M20 12H4" />
                    </svg>
                </button>

                <!-- Cart Button -->
                <button id="cart-btn" class="hover:opacity-70 transition-opacity duration-300 relative" aria-label="Open shopping cart" title="Open shopping cart">
                    <!-- Cart Icon -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <span id="cart-count" class="absolute -top-1 -right-1 bg-brand-black text-brand-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center opacity-0 transition-opacity">0</span>
                </button>
            </div>
        </nav>
    </header>

    
    <!-- Page Content Wrapper -->
    <main>

        <!-- ===== HOME PAGE (Active by default) ===== -->
        <section class="page-section active" data-page="home">
            
            <!-- Video Hero Section -->
            <div class="relative h-[70vh] md:h-screen w-full overflow-hidden bg-black group">
                <!-- Video Background -->
                <video autoplay loop muted playsinline webkit-playsinline class="absolute top-0 left-0 w-full h-full object-cover opacity-80 grayscale group-hover:grayscale-0 transition-all duration-700 ease-in-out">
                    <source src="https://videos.pexels.com/video-files/3205916/3205916-hd_1920_1080_25fps.mp4" type="video/mp4">
                    Your browser does not support the video tag.
                </video>
                
                <!-- Text & Button Overlay -->
                <div class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 z-10">
                    <h1 class="font-header-dramatic text-6xl md:text-9xl lg:text-[10rem] leading-none text-brand-white video-overlay-text mb-4">
                        KasMarte
                    </h1>
                    <p class="text-lg md:text-xl font-body font-medium max-w-2xl mx-auto mb-10 text-brand-white video-overlay-text">
                        Scoperta. Lusso. Senza tempo.
                    </p>
                    <!-- Updated Button -->
                    <a href="#" data-nav="store" class="inline-block bg-brand-white text-brand-black font-body font-bold text-sm py-3 px-10 rounded-md hover:bg-opacity-80 transition-colors duration-300 uppercase tracking-wider">
                        Let's take a trip to KasMarte
                    </a>
                </div>
            </div>

            <!-- About Section (from Studio) -->
            <section class="container mx-auto px-6 py-20 md:py-32" id="about">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-16">About KasMarte</h1>
                <div class="max-w-3xl mx-auto font-body text-lg leading-relaxed space-y-6">
                    <p class="text-xl text-center">Fatto a mano nel nostro studio. Uniamo la tradizione artigianale con un design moderno e un prezzo giusto. (Handcrafted in our studio. We unite artisan tradition with modern design and fair pricing.)</p>
                    <div class="bg-brand-white rounded-lg shadow-sm overflow-hidden border border-brand-black border-opacity-10">
                        <img src="https://images.unsplash.com/photo-1603400521630-9f2de124b33b?auto=format&fit=crop&w=1200&q=80" alt="Craftsmanship in studio" class="w-full h-auto object-cover">
                    </div>
                    <p>Our philosophy is simple: create beautiful, high-quality garments that last, and offer them at a price that respects both the maker and the customer. We bypass traditional luxury markups by selling directly to you.</p>
                    <p>Each piece is designed and crafted in our small studio in Florence, where we focus on natural materials, precise tailoring, and the quiet confidence of a perfect fit.</p>
                </div>
            </section>

            <!-- Lookbook Section (New Arrivals) -->
            <section class="w-full px-6 pb-20 md:pb-32" id="lookbook">
                <h3 class="font-header-dramatic text-4xl text-center mb-12 container mx-auto">New Arrivals</h3>
                <div class="container mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Product 1: Jacket -->
                    <div class="product-card group cursor-pointer relative" data-price="280">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1594938298603-c8148c4dae35?auto=format&fit=crop&w=800&q=80" 
                                alt="Desaturated photo of a tailored jacket"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Giacca (The Jacket)</h4>
                    </div>
                    <!-- Product 2: Bag -->
                    <div class="product-card group cursor-pointer relative" data-price="195">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1548036328-c9fa89d128fa?auto=format&fit=crop&w=800&q=80" 
                                alt="Desaturated photo of a leather bag"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Borsa (The Bag)</h4>
                    </div>
                    <!-- Product 3: Shoes -->
                    <div class="product-card group cursor-pointer relative" data-price="220">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1614252235316-8c857d38b5f4?auto=format&fit=crop&w=800&q=80" 
                                alt="Desaturated photo of leather shoes"
                                class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Le Scarpe (The Shoes)</h4>
                    </div>
                </div>
            </section>
        </section>

        <!-- ===== STORE PAGE (Search & Filter) ===== -->
        <section class="page-section" data-page="store">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-12">La Bottega</h1>
                
                <!-- Search & Filter Controls -->
                <div class="max-w-4xl mx-auto mb-16 space-y-6">
                    <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                        <!-- Search -->
                        <div class="relative w-full md:w-1/2">
                            <input type="text" id="store-search" placeholder="Cerca prodotti..." class="w-full border-b border-brand-black bg-transparent py-2 pl-8 focus:outline-none focus:border-b-2 transition-all placeholder-gray-500 font-body">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 absolute left-0 top-2.5 text-gray-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                            </svg>
                        </div>
                        <!-- Filter Buttons -->
                        <div class="flex gap-2 md:gap-4" id="filter-buttons">
                            <button class="filter-btn active px-4 py-2 rounded-full border border-brand-black text-sm font-bold uppercase transition-colors hover:bg-brand-black hover:text-brand-white" data-filter="all">Tutto</button>
                            <button class="filter-btn px-4 py-2 rounded-full border border-brand-black text-sm font-bold uppercase transition-colors hover:bg-brand-black hover:text-brand-white" data-filter="men">Uomo</button>
                            <button class="filter-btn px-4 py-2 rounded-full border border-brand-black text-sm font-bold uppercase transition-colors hover:bg-brand-black hover:text-brand-white" data-filter="women">Donna</button>
                        </div>
                    </div>
                </div>

                <!-- Product Grid -->
                <div id="store-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 animate-fade-in">
                    <!-- Men's Items -->
                    <div class="product-card store-item group cursor-pointer relative" data-category="men" data-name="camicia di lino shirt" data-price="120">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1596755094514-f87e34085b2c?auto=format&fit=crop&w=800&q=80" alt="Men's Shirt" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Camicia di Lino</h4>
                        <p class="font-body text-brand-black opacity-70">$120</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="men" data-name="pantaloni chino pants" data-price="160">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1473966968600-fa801b869a1a?auto=format&fit=crop&w=800&q=80" alt="Men's Trousers" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Pantaloni Chino</h4>
                        <p class="font-body text-brand-black opacity-70">$160</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="men" data-name="maglione di cachemire sweater" data-price="250">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1610652492500-ded49ceeb378?auto=format&fit=crop&w=800&q=80" alt="Men's Sweater" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Maglione di Cachemire</h4>
                        <p class="font-body text-brand-black opacity-70">$250</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="men" data-name="giacca da lavoro jacket" data-price="290">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1559551409-dadc959f76b8?auto=format&fit=crop&w=800&q=80" alt="Men's Jacket" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Giacca da Lavoro</h4>
                        <p class="font-body text-brand-black opacity-70">$290</p>
                    </div>

                    <!-- Women's Items -->
                    <div class="product-card store-item group cursor-pointer relative" data-category="women" data-name="la giacca jacket" data-price="280">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1584273143981-41c073dfe8f8?auto=format&fit=crop&w=800&q=80" alt="Jacket" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Giacca</h4>
                        <p class="font-body text-brand-black opacity-70">$280</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="women" data-name="la borsa bag" data-price="195">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1591561954557-26941169b49e?auto=format&fit=crop&w=800&q=80" alt="Bag" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Borsa</h4>
                        <p class="font-body text-brand-black opacity-70">$195</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="women" data-name="le scarpe shoes" data-price="220">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1543163521-1bf539c55dd2?auto=format&fit=crop&w=800&q=80" alt="Shoes" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Le Scarpe</h4>
                        <p class="font-body text-brand-black opacity-70">$220</p>
                    </div>
                    <div class="product-card store-item group cursor-pointer relative" data-category="women" data-name="abito di seta dress" data-price="310">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=800&q=80" alt="Dress" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Abito di Seta</h4>
                        <p class="font-body text-brand-black opacity-70">$310</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== MEN PAGE (UOMO) ===== -->
        <section class="page-section" data-page="men">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-16">Uomo</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Product: Camicia di Lino -->
                    <div class="product-card group cursor-pointer relative" data-price="120">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1596755094514-f87e34085b2c?auto=format&fit=crop&w=800&q=80" alt="Men's Shirt" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Camicia di Lino</h4>
                        <p class="font-body text-brand-black opacity-70">$120</p>
                    </div>
                    <!-- Product: Pantaloni Chino -->
                    <div class="product-card group cursor-pointer relative" data-price="160">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1473966968600-fa801b869a1a?auto=format&fit=crop&w=800&q=80" alt="Men's Trousers" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Pantaloni Chino</h4>
                        <p class="font-body text-brand-black opacity-70">$160</p>
                    </div>
                    <!-- Product: Maglione di Cachemire -->
                    <div class="product-card group cursor-pointer relative" data-price="250">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1610652492500-ded49ceeb378?auto=format&fit=crop&w=800&q=80" alt="Men's Sweater" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Maglione di Cachemire</h4>
                        <p class="font-body text-brand-black opacity-70">$250</p>
                    </div>
                    <!-- Product: Giacca da Lavoro -->
                    <div class="product-card group cursor-pointer relative" data-price="290">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1559551409-dadc959f76b8?auto=format&fit=crop&w=800&q=80" alt="Men's Jacket" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Giacca da Lavoro</h4>
                        <p class="font-body text-brand-black opacity-70">$290</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== WOMEN PAGE (DONNA) ===== -->
        <section class="page-section" data-page="women">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-6xl md:text-8xl text-center mb-16">Donna</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <!-- Product: Giacca -->
                    <div class="product-card group cursor-pointer relative" data-price="280">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1584273143981-41c073dfe8f8?auto=format&fit=crop&w=800&q=80" alt="Jacket" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Giacca</h4>
                        <p class="font-body text-brand-black opacity-70">$280</p>
                    </div>
                    <!-- Product: Borsa -->
                    <div class="product-card group cursor-pointer relative" data-price="195">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1591561954557-26941169b49e?auto=format&fit=crop&w=800&q=80" alt="Bag" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">La Borsa</h4>
                        <p class="font-body text-brand-black opacity-70">$195</p>
                    </div>
                    <!-- Product: Scarpe -->
                    <div class="product-card group cursor-pointer relative" data-price="220">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1543163521-1bf539c55dd2?auto=format&fit=crop&w=800&q=80" alt="Shoes" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Le Scarpe</h4>
                        <p class="font-body text-brand-black opacity-70">$220</p>
                    </div>
                    <!-- Product: Abito di Seta -->
                    <div class="product-card group cursor-pointer relative" data-price="310">
                        <button class="wishlist-btn absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Add to wishlist">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="https://images.unsplash.com/photo-1595777457583-95e059d581b8?auto=format&fit=crop&w=800&q=80" alt="Dress" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">Abito di Seta</h4>
                        <p class="font-body text-brand-black opacity-70">$310</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ===== PRODUCT DETAIL PAGE (Dynamic Template) ===== -->
        <section class="page-section" data-page="product-detail">
            <div class="container mx-auto px-6 py-12 md:py-20">
                
                <!-- Breadcrumbs -->
                <div class="mb-8 text-sm font-body">
                    <a href="#" data-nav="home" class="text-gray-500 hover:text-brand-black">Home</a>
                    <span class="mx-2 text-gray-300">/</span>
                    <a href="#" data-nav="store" class="text-gray-500 hover:text-brand-black">Store</a>
                    <span class="mx-2 text-gray-300">/</span>
                    <span class="text-brand-black font-medium" id="detail-breadcrumb-name">Product Name</span>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-20">
                    <!-- Product Image -->
                    <div class="bg-gray-50 rounded-lg overflow-hidden aspect-[3/4] shadow-sm border border-brand-black border-opacity-5">
                        <img id="detail-image" src="" alt="" class="w-full h-full object-cover">
                    </div>

                    <!-- Product Info -->
                    <div class="flex flex-col justify-center">
                        <h1 id="detail-title" class="font-header-dramatic text-5xl md:text-6xl mb-4">Product Name</h1>
                        <p id="detail-price" class="text-2xl font-body font-bold mb-8">$0.00</p>
                        
                        <div class="prose prose-sm mb-8 text-gray-600 font-body">
                            <p>Crafted with the finest materials in our Florence atelier. This piece embodies the KasMarte philosophy of timeless elegance and modern utility. Designed for comfort, durability, and effortless style.</p>
                        </div>

                        <!-- Size Selector -->
                        <div class="mb-8">
                            <div class="flex justify-between items-center mb-3">
                                <label class="block text-sm font-bold uppercase tracking-widest">Size</label>
                                <button id="size-guide-trigger" class="text-xs underline text-gray-500 hover:text-brand-black transition-colors font-body">Size Guide</button>
                            </div>
                            <div class="flex gap-3 size-selector">
                                <div class="relative">
                                    <input type="radio" name="size" id="size-s" class="peer sr-only">
                                    <label for="size-s" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer hover:border-brand-black transition-all font-body text-sm">S</label>
                                </div>
                                <div class="relative">
                                    <input type="radio" name="size" id="size-m" class="peer sr-only" checked>
                                    <label for="size-m" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer hover:border-brand-black transition-all font-body text-sm">M</label>
                                </div>
                                <div class="relative">
                                    <input type="radio" name="size" id="size-l" class="peer sr-only">
                                    <label for="size-l" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer hover:border-brand-black transition-all font-body text-sm">L</label>
                                </div>
                                <div class="relative">
                                    <input type="radio" name="size" id="size-xl" class="peer sr-only">
                                    <label for="size-xl" class="block w-12 h-12 flex items-center justify-center border border-gray-300 cursor-pointer hover:border-brand-black transition-all font-body text-sm">XL</label>
                                </div>
                            </div>
                        </div>

                        <!-- Actions -->
                        <div class="flex gap-4 mb-4">
                            <button id="add-to-cart-btn" class="flex-grow bg-brand-black text-brand-white font-body font-bold text-sm py-4 px-6 rounded-md hover:bg-opacity-80 transition-all duration-300 uppercase tracking-wider flex justify-center items-center gap-2 group">
                                <span>Add to Cart</span>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                                </svg>
                            </button>
                            <button id="detail-wishlist-btn" class="wishlist-btn w-14 flex-shrink-0 border border-gray-300 rounded-md flex items-center justify-center hover:border-brand-black transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                                </svg>
                            </button>
                        </div>
                        
                        <div class="text-xs text-gray-500 mt-4 space-y-2 font-body">
                            <p class="flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                                Free shipping on all orders
                            </p>
                            <p class="flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                                30-day return policy
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== WISHLIST PAGE ===== -->
        <section class="page-section" data-page="wishlist">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-5xl md:text-6xl text-center mb-12">La Lista dei Desideri</h1>
                
                <div id="wishlist-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 animate-fade-in">
                    <!-- Wishlist items will be injected here via JS -->
                    <div id="empty-wishlist-msg" class="col-span-full text-center text-gray-500 py-12 text-lg">
                        Your wishlist is empty.
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== CHECKOUT PAGE (Accessible via Cart) ===== -->
        <section class="page-section" data-page="checkout">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <h1 class="font-header-dramatic text-5xl md:text-6xl text-center mb-12">Checkout</h1>
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-12 max-w-6xl mx-auto">
                    <!-- Left Column: Forms -->
                    <div class="lg:col-span-2 space-y-12">
                        
                        <!-- Contact & Shipping -->
                        <div class="animate-fade-in">
                            <h2 class="font-header text-2xl mb-6 uppercase tracking-wider">Shipping Address</h2>
                            <form class="space-y-6">
                                <div class="grid grid-cols-2 gap-6">
                                    <div class="col-span-2 md:col-span-1">
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">First Name</label>
                                        <input type="text" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="Ava">
                                    </div>
                                       <div class="col-span-2 md:col-span-1">
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">Last Name</label>
                                        <input type="text" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="Doe">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold uppercase tracking-widest mb-2">Address</label>
                                    <input type="text" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="123 Fashion Ave">
                                </div>
                                <div class="grid grid-cols-2 gap-6">
                                       <div>
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">City</label>
                                        <input type="text" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="New York">
                                    </div>
                                       <div>
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">Postal Code</label>
                                        <input type="text" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="10001">
                                    </div>
                                </div>
                            </form>
                        </div>

                        <!-- Payment -->
                        <div class="animate-fade-in" style="animation-delay: 0.1s;">
                            <h2 class="font-header text-2xl mb-6 uppercase tracking-wider">Payment</h2>
                            <div class="p-6 border border-gray-200 rounded bg-gray-50">
                                <div class="mb-4">
                                       <label class="block text-xs font-bold uppercase tracking-widest mb-2">Card Number</label>
                                       <input type="text" class="w-full p-3 bg-white border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="0000 0000 0000 0000">
                                </div>
                                <div class="grid grid-cols-2 gap-6">
                                    <div>
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">Expiry</label>
                                        <input type="text" class="w-full p-3 bg-white border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="MM/YY">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold uppercase tracking-widest mb-2">CVV</label>
                                        <input type="text" class="w-full p-3 bg-white border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="123">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column: Order Summary -->
                    <div class="lg:col-span-1 animate-fade-in" style="animation-delay: 0.2s;">
                        <div class="bg-brand-white p-8 sticky top-32 border border-brand-black border-opacity-10 shadow-sm rounded-lg">
                            <h2 class="font-header text-xl mb-6 uppercase tracking-wider">Order Summary</h2>
                            
                            <!-- Item List (Dynamic) -->
                            <div id="checkout-items-container" class="space-y-6 mb-8 border-b border-gray-200 pb-8">
                                <!-- Items added via JS -->
                                <div id="empty-cart-msg" class="text-center text-gray-500 py-4">Your bag is empty.</div>
                            </div>

                            <!-- Totals -->
                            <div class="space-y-3 mb-8 text-sm">
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Subtotal</span>
                                    <span id="checkout-subtotal">$0</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-gray-600">Shipping</span>
                                    <span class="text-green-600">Free</span>
                                </div>
                                <div class="flex justify-between font-bold text-xl pt-4 border-t border-gray-200 mt-4">
                                    <span>Total</span>
                                    <span id="checkout-total">$0</span>
                                </div>
                            </div>

                            <button class="w-full bg-brand-black text-brand-white font-body font-bold text-sm py-4 px-6 rounded-md hover:bg-opacity-80 transition-colors duration-300 uppercase tracking-wider">
                                Place Order
                            </button>
                            
                            <p class="text-xs text-center text-gray-400 mt-4">Secure 256-bit SSL Encryption.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ===== PROFILE / AUTH PAGE ===== -->
        <section class="page-section" data-page="profile">
            <div class="container mx-auto px-6 py-12 md:py-20">
                <div class="max-w-md mx-auto">
                    <!-- Dynamic Title -->
                    <h1 id="auth-title" class="font-header-dramatic text-5xl md:text-6xl text-center mb-12">Accedi</h1>
                    
                    <div class="bg-brand-white p-8 rounded-lg shadow-sm border border-brand-black border-opacity-5">
                        
                        <!-- LOGIN FORM -->
                        <form id="login-form" class="space-y-6 animate-fade-in">
                            <div>
                                <label for="login-email" class="block text-xs font-bold uppercase tracking-widest mb-2">Email</label>
                                <input type="email" id="login-email" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="email@example.com">
                            </div>
                            <div>
                                <div class="flex justify-between items-center mb-2">
                                    <label for="login-password" class="block text-xs font-bold uppercase tracking-widest">Password</label>
                                    <button type="button" id="btn-forgot-pass" class="text-xs text-gray-500 hover:text-brand-black underline">Forgot?</button>
                                </div>
                                <input type="password" id="login-password" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none transition-colors" placeholder="">
                            </div>
                            <button type="button" class="w-full bg-brand-black text-brand-white font-bold uppercase tracking-widest py-4 hover:opacity-90 transition-opacity">
                                Sign In
                            </button>
                            
                            <!-- Social Divider -->
                            <div class="relative flex py-2 items-center">
                                <div class="flex-grow border-t border-gray-200"></div>
                                <span class="flex-shrink-0 mx-4 text-gray-400 text-xs uppercase">Or continue with</span>
                                <div class="flex-grow border-t border-gray-200"></div>
                            </div>

                            <!-- Social Buttons -->
                            <div class="grid grid-cols-2 gap-4">
                                <button type="button" class="flex items-center justify-center border border-gray-300 py-2 hover:bg-gray-50 transition-colors">
                                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
                                    Google
                                </button>
                                <button type="button" class="flex items-center justify-center border border-gray-300 py-2 hover:bg-gray-50 transition-colors">
                                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78 1.18-.19 2.31-.89 3.51-.84 1.54.06 2.77.79 3.49 1.89-3.38 1.68-2.82 6.12.64 7.53-.54 1.65-1.35 3.31-2.72 3.61zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>
                                    Apple
                                </button>
                            </div>

                            <div class="text-center mt-6 text-sm">
                                <span class="text-gray-500">New to KasMarte?</span>
                                <button type="button" id="btn-show-register" class="font-bold ml-1 underline hover:text-gray-600">Create an account</button>
                            </div>
                        </form>

                        <!-- REGISTER FORM (Hidden by default) -->
                        <form id="register-form" class="space-y-6 hidden animate-fade-in">
                             <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label for="reg-first" class="block text-xs font-bold uppercase tracking-widest mb-2">First Name</label>
                                    <input type="text" id="reg-first" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none" placeholder="Ava">
                                </div>
                                <div>
                                    <label for="reg-last" class="block text-xs font-bold uppercase tracking-widest mb-2">Last Name</label>
                                    <input type="text" id="reg-last" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none" placeholder="Doe">
                                </div>
                            </div>
                            <div>
                                <label for="reg-email" class="block text-xs font-bold uppercase tracking-widest mb-2">Email</label>
                                <input type="email" id="reg-email" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none" placeholder="email@example.com">
                            </div>
                            <div>
                                <label for="reg-password" class="block text-xs font-bold uppercase tracking-widest mb-2">Password</label>
                                <input type="password" id="reg-password" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none" placeholder="Create a password">
                            </div>
                            
                            <button type="button" class="w-full bg-brand-black text-brand-white font-bold uppercase tracking-widest py-4 hover:opacity-90 transition-opacity">
                                Create Account
                            </button>

                            <!-- Social Divider -->
                            <div class="relative flex py-2 items-center">
                                <div class="flex-grow border-t border-gray-200"></div>
                                <span class="flex-shrink-0 mx-4 text-gray-400 text-xs uppercase">Or sign up with</span>
                                <div class="flex-grow border-t border-gray-200"></div>
                            </div>

                             <!-- Social Buttons (Repeated) -->
                            <div class="grid grid-cols-2 gap-4">
                                <button type="button" class="flex items-center justify-center border border-gray-300 py-2 hover:bg-gray-50 transition-colors">
                                    <svg class="w-5 h-5 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/><path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/><path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" fill="#FBBC05"/><path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/></svg>
                                    Google
                                </button>
                                <button type="button" class="flex items-center justify-center border border-gray-300 py-2 hover:bg-gray-50 transition-colors">
                                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.78 1.18-.19 2.31-.89 3.51-.84 1.54.06 2.77.79 3.49 1.89-3.38 1.68-2.82 6.12.64 7.53-.54 1.65-1.35 3.31-2.72 3.61zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"/></svg>
                                    Apple
                                </button>
                            </div>

                            <div class="text-center mt-6 text-sm">
                                <span class="text-gray-500">Already have an account?</span>
                                <button type="button" id="btn-show-login" class="font-bold ml-1 underline hover:text-gray-600">Sign In</button>
                            </div>
                        </form>

                        <!-- FORGOT PASSWORD FORM (Hidden by default) -->
                        <form id="forgot-form" class="space-y-6 hidden animate-fade-in">
                            <p class="text-sm text-gray-600 mb-4">Enter the email address associated with your account and we'll send you a link to reset your password.</p>
                            <div>
                                <label for="forgot-email" class="block text-xs font-bold uppercase tracking-widest mb-2">Email</label>
                                <input type="email" id="forgot-email" class="w-full p-3 bg-gray-50 border border-gray-200 focus:border-brand-black focus:outline-none" placeholder="email@example.com">
                            </div>
                            
                            <button type="button" class="w-full bg-brand-black text-brand-white font-bold uppercase tracking-widest py-4 hover:opacity-90 transition-opacity">
                                Send Recovery Link
                            </button>

                            <div class="text-center mt-6 text-sm">
                                <button type="button" id="btn-back-to-login" class="font-bold underline hover:text-gray-600">Back to Sign In</button>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="border-t border-brand-black border-opacity-20">
        <div class="container mx-auto px-6 py-12">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
                
                <!-- Brand Accordion -->
                <div>
                    <button class="font-bold mb-4 w-full flex justify-between items-center footer-accordion-btn">
                        Brand
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <ul class="space-y-2 text-sm hidden footer-accordion-content">
                        <li><a href="#" class="hover:opacity-70" data-nav="home">Our Story</a></li>
                        <li><a href="#" class="hover:opacity-70" data-nav="home">Poetic Manifesto</a></li>
                        <li><a href="#" class="hover:opacity-70">Careers</a></li>
                    </ul>
                </div>

                <!-- Help & Support Accordion -->
                <div>
                    <button class="font-bold mb-4 w-full flex justify-between items-center footer-accordion-btn">
                        Help & Support
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <ul class="space-y-2 text-sm hidden footer-accordion-content">
                        <li><a href="#" class="hover:opacity-70" data-nav="contact">Contact Us</a></li>
                        <li><a href="#" class="hover:opacity-70">FAQ</a></li>
                        <li><a href="#" class="hover:opacity-70">Shipping & Returns</a></li>
                    </ul>
                </div>

                <!-- Connect (Socials / Newsletter) -->
                <div>
                    <button class="font-bold mb-4 w-full flex justify-between items-center footer-accordion-btn">
                        Connect
                        <span class="text-xl font-light transform transition-transform duration-300">+</span>
                    </button>
                    <div class="space-y-4 text-sm footer-accordion-content hidden">
                        <div class="flex space-x-4">
                            <!-- Instagram -->
                            <a href="#" class="hover:opacity-70" title="Follow us on Instagram" aria-label="Follow us on Instagram">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                            </a>
                            <!-- Facebook -->
                            <a href="#" class="hover:opacity-70" title="Follow us on Facebook" aria-label="Follow us on Facebook">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
                            </a>
                            <!-- Twitter/X -->
                            <a href="#" class="hover:opacity-70" title="Follow us on X (Twitter)" aria-label="Follow us on X (Twitter)">
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="24" height="24" viewBox="0 0 256 256" xml:space="preserve">
                                    <g style="stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;" transform="translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)">
                                        <path d="M 0.219 2.882 l 34.748 46.461 L 0 87.118 h 7.87 l 30.614 -33.073 l 24.735 33.073 H 90 L 53.297 38.043 L 85.844 2.882 h -7.87 L 49.781 33.341 L 27.001 2.882 H 0.219 z M 11.793 8.679 h 12.303 L 78.425 81.32 H 66.122 L 11.793 8.679 z" style="stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(0,0,0); fill-rule: nonzero; opacity: 1;" transform=" matrix(1 0 0 1 0 0) " stroke-linecap="round"/>
                                    </g>
                                </svg>
                            </a>
                            <!-- TikTok -->
                            <a href="#" class="hover:opacity-70" title="Follow us on TikTok" aria-label="Follow us on TikTok">
                                <svg fill="#000000" width="24" height="24" viewBox="0 0 256 256" id="Flat" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M224,72a44.04978,44.04978,0,0,1-44-44,12,12,0,0,0-12-12H128a12,12,0,0,0-12,12V156a16,16,0,1,1-22.85107-14.46631,12.0001,12.0001,0,0,0,6.85058-10.83886L100,89.05569a11.99969,11.99969,0,0,0-14.10352-11.814A80.00515,80.00515,0,1,0,180,156l-.00049-29.32812A107.476,107.476,0,0,0,224,136a12,12,0,0,0,12-12V84A12,12,0,0,0,224,72Zm-12,39.15381a83.22823,83.22823,0,0,1-36.99268-14.91211,12,12,0,0,0-19.00781,9.74121L156,156a56,56,0,1,1-80-50.63965l-.00049,18.64795A39.99736,39.99736,0,1,0,140,156V40h17.06006A68.19054,68.19054,0,0,0,212,94.94Z"/>
                                </svg>
                            </a>
                        </div>

                        <!-- Newsletter Form -->
                        <form action="#" method="POST" class="space-y-3">
                            <label for="newsletter" class="sr-only">Subscribe to newsletter</label>
                            <div class="flex">
                                <input id="newsletter" name="newsletter" type="email" placeholder="Email address" class="w-full px-3 py-2 border border-brand-black border-opacity-10 rounded-l-md focus:outline-none" />
                                <button type="submit" class="bg-brand-black text-brand-white px-4 rounded-r-md hover:bg-opacity-90 transition-colors">Subscribe</button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
            <div class="text-center text-sm text-brand-black text-opacity-70 py-4 border-t border-brand-black border-opacity-10">
                &copy; 2025 KasMarte. All Rights Reserved. Made with style in Italy.
            </div>
        </div>
    </footer>

    <script>
        // --- Core JavaScript Logic ---
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('[data-nav]');
            const pages = document.querySelectorAll('.page-section');
            const menuToggleBtn = document.getElementById('menu-toggle-btn');
            const menuOverlay = document.getElementById('new-menu-overlay');
            const iconPlus = document.getElementById('icon-plus');
            const iconMinus = document.getElementById('icon-minus');
            const menuCloseInner = document.getElementById('menu-close-inner'); 
            const footerAccordionBtns = document.querySelectorAll('.footer-accordion-btn');
            const cartBtn = document.getElementById('cart-btn'); 

            // --- State ---
            let cart = [];
            let wishlist = [];

            // --- Hero Video Logic (Mobile Autoplay & Loop) ---
            const heroVideo = document.querySelector('video');
            if (heroVideo) {
                // Ensure critical attributes for mobile autoplay
                heroVideo.setAttribute('playsinline', 'true'); // Force inline play on iOS
                heroVideo.setAttribute('webkit-playsinline', 'true'); // Older iOS support
                heroVideo.muted = true;                       // Force property mute (required for autoplay)
                heroVideo.loop = true;                        // Ensure loop is active
                
                // Attempt to force play immediately
                const playPromise = heroVideo.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.log("Autoplay prevented by browser policy:", error);
                    });
                }
            }

            // --- Logo Scroll Transition Logic (SVG Resizing) ---
            const mainLogo = document.getElementById('main-logo');
            const scrollThreshold = 100; // Pixels to scroll before transition

            /** Toggles header/logo classes based on scroll position. */
            function handleLogoScroll() {
                if (!mainLogo) return;

                if (window.scrollY > scrollThreshold) {
                    // Scrolled state: shrink height
                    mainLogo.classList.remove('sm:h-7');
                    mainLogo.classList.add('sm:h-5');
                } else {
                    // Initial state: default height
                    mainLogo.classList.add('sm:h-7');
                    mainLogo.classList.remove('sm:h-5');
                }
            }

            // Attach scroll listener
            window.addEventListener('scroll', handleLogoScroll);
            handleLogoScroll(); // Run once on load to set initial state correctly


            // --- Profile Page Auth Toggle Logic ---
            const authTitle = document.getElementById('auth-title');
            const loginForm = document.getElementById('login-form');
            const registerForm = document.getElementById('register-form');
            const forgotForm = document.getElementById('forgot-form');
            
            const btnShowRegister = document.getElementById('btn-show-register');
            const btnShowLogin = document.getElementById('btn-show-login');
            const btnForgotPass = document.getElementById('btn-forgot-pass');
            const btnBackToLogin = document.getElementById('btn-back-to-login');

            /**
             * Switches the view in the Profile section (Login, Register, Forgot Password).
             * @param {string} view - 'login', 'register', or 'forgot'.
             */
            function switchAuthView(view) {
                // Hide all forms and remove animation class
                [loginForm, registerForm, forgotForm].forEach(form => {
                    if (form) {
                        form.classList.add('hidden');
                        form.classList.remove('animate-fade-in');
                    }
                });
                
                // Show requested view and set title
                let targetForm;
                let titleText;

                if (view === 'register') {
                    targetForm = registerForm;
                    titleText = 'Registrati';
                } else if (view === 'forgot') {
                    targetForm = forgotForm;
                    titleText = 'Recupera Password';
                } else { // Default to login
                    targetForm = loginForm;
                    titleText = 'Accedi';
                }

                if (targetForm) {
                    // Re-add the animation class right before showing
                    targetForm.classList.remove('hidden');
                    // Force repaint to restart animation
                    void targetForm.offsetWidth;
                    targetForm.classList.add('animate-fade-in');
                }
                if(authTitle) authTitle.textContent = titleText;
            }

            // Attach listeners for form switching
            if (btnShowRegister) { btnShowRegister.addEventListener('click', () => switchAuthView('register')); }
            if (btnShowLogin) { btnShowLogin.addEventListener('click', () => switchAuthView('login')); }
            if (btnForgotPass) { btnForgotPass.addEventListener('click', () => switchAuthView('forgot')); }
            if (btnBackToLogin) { btnBackToLogin.addEventListener('click', () => switchAuthView('login')); }
            
            // --- Cart & Checkout Logic ---
            const checkoutItemsContainer = document.getElementById('checkout-items-container');
            const subtotalEl = document.getElementById('checkout-subtotal');
            const totalEl = document.getElementById('checkout-total');
            const cartCountEl = document.getElementById('cart-count');

            /** Updates the visual cart count in the header */
            function updateCartCount() {
                if (!cartCountEl) return;
                cartCountEl.textContent = cart.length;
                if (cart.length > 0) {
                    cartCountEl.classList.remove('opacity-0');
                } else {
                    cartCountEl.classList.add('opacity-0');
                }
            }

            /** Adds an item to the cart state */
            function addToCart(product) {
                cart.push(product);
                updateCartCount();
                // Visual feedback
                const btn = document.getElementById('add-to-cart-btn');
                if (btn) {
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<span>Added</span>';
                    btn.classList.add('bg-green-700', 'text-white');
                    setTimeout(() => {
                        btn.innerHTML = originalText;
                        btn.classList.remove('bg-green-700', 'text-white');
                    }, 1000);
                }
            }

            /** Renders the cart items on the Checkout page */
            function renderCheckout() {
                if (!checkoutItemsContainer) return;
                
                checkoutItemsContainer.innerHTML = '';
                
                if (cart.length === 0) {
                    checkoutItemsContainer.innerHTML = '<div class="text-center text-gray-500 py-4">Your bag is empty.</div>';
                    if (subtotalEl) subtotalEl.textContent = '$0';
                    if (totalEl) totalEl.textContent = '$0';
                    return;
                }

                let subtotal = 0;

                cart.forEach((item, index) => {
                    subtotal += item.price;
                    
                    const itemHtml = `
                        <div class="flex gap-4 relative item-row animate-fade-in">
                            <div class="w-20 h-24 bg-gray-100 overflow-hidden flex-shrink-0">
                                <img src="${item.img}" class="w-full h-full object-cover grayscale">
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-body font-bold text-sm">${item.name}</h4>
                                <p class="text-xs text-gray-500 mb-1">Size: ${item.size}</p>
                                <p class="font-bold text-sm">$${item.price}</p>
                                <button class="move-to-wishlist-btn text-xs underline text-gray-500 hover:text-brand-black mt-2" data-index="${index}">Save for Later</button>
                            </div>
                            <button class="remove-item-btn text-gray-400 hover:text-red-600 transition-colors absolute top-0 right-0" data-index="${index}" title="Remove item">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </div>
                    `;
                    checkoutItemsContainer.insertAdjacentHTML('beforeend', itemHtml);
                });

                if (subtotalEl) subtotalEl.textContent = '$' + subtotal;
                if (totalEl) totalEl.textContent = '$' + subtotal;

                // Attach listeners to new buttons
                // Remove Listener
                document.querySelectorAll('.remove-item-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = parseInt(e.currentTarget.getAttribute('data-index'));
                        cart.splice(index, 1);
                        updateCartCount();
                        renderCheckout();
                    });
                });
                
                // Move to Wishlist Listener
                document.querySelectorAll('.move-to-wishlist-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const index = parseInt(e.currentTarget.getAttribute('data-index'));
                        const item = cart[index];
                        
                        // Check if already in wishlist to avoid duplicates
                        const exists = wishlist.some(w => w.name === item.name);
                        if (!exists) {
                            wishlist.push(item);
                        }
                        
                        // Remove from cart
                        cart.splice(index, 1);
                        updateCartCount();
                        renderCheckout();
                        
                        // Optional: Feedback
                        alert(`Moved ${item.name} to Wishlist`);
                    });
                });
            }

            // --- Product Detail Page Logic ---
            
            /** Populates and shows the product detail page */
            function openProductPage(cardElement) {
                const img = cardElement.querySelector('img').src;
                const title = cardElement.querySelector('h4').textContent;
                // Price might be missing on Home/New Arrivals cards, check dataset or fallback
                let priceStr = cardElement.dataset.price || cardElement.querySelector('p')?.textContent || "200"; 
                // clean price string to number
                let price = parseInt(priceStr.replace(/[^0-9]/g, ''));
                if (isNaN(price)) price = 200; // Fallback price

                // Populate DOM
                document.getElementById('detail-image').src = img;
                document.getElementById('detail-title').textContent = title;
                document.getElementById('detail-price').textContent = '$' + price;
                document.getElementById('detail-breadcrumb-name').textContent = title;

                // Update Detail Page Wishlist Button State
                const detailWishlistBtn = document.getElementById('detail-wishlist-btn');
                const isInWishlist = wishlist.some(item => item.name === title);
                if (isInWishlist) {
                    detailWishlistBtn.classList.add('active');
                } else {
                    detailWishlistBtn.classList.remove('active');
                }

                // Reset add to cart button state
                const addBtn = document.getElementById('add-to-cart-btn');
                // Remove old listeners to prevent duplicates (cloning hack)
                const newBtn = addBtn.cloneNode(true);
                addBtn.parentNode.replaceChild(newBtn, addBtn);
                
                newBtn.addEventListener('click', () => {
                    // Get selected size
                    const size = document.querySelector('input[name="size"]:checked').id.replace('size-', '').toUpperCase();
                    addToCart({
                        name: title,
                        price: price,
                        img: img,
                        size: size
                    });
                });

                showPage('product-detail');
            }

            // Attach click listeners using delegation for ALL product cards (including dynamic ones in wishlist)
            document.addEventListener('click', (e) => {
                const card = e.target.closest('.product-card');
                // Ensure we clicked a card, AND we didn't click the wishlist button inside it
                if (card && !e.target.closest('.wishlist-btn')) {
                    e.preventDefault();
                    openProductPage(card);
                }
            });


            // --- Store Filter Logic ---
            const filterButtons = document.querySelectorAll('.filter-btn');
            const storeItems = document.querySelectorAll('.store-item');
            const searchInput = document.getElementById('store-search');

            function filterStore() {
                const searchTerm = searchInput.value.toLowerCase();
                const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');

                storeItems.forEach(item => {
                    const itemCategory = item.getAttribute('data-category');
                    const itemName = item.getAttribute('data-name').toLowerCase();
                    
                    let matchesFilter = (activeFilter === 'all') || (itemCategory === activeFilter);
                    let matchesSearch = itemName.includes(searchTerm);

                    if (matchesFilter && matchesSearch) {
                        item.classList.remove('hidden');
                    } else {
                        item.classList.add('hidden');
                    }
                });
            }

            // Filter button click listener
            filterButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    // Remove active class from all
                    filterButtons.forEach(b => b.classList.remove('active'));
                    // Add active class to clicked
                    btn.classList.add('active');
                    // Apply filter
                    filterStore();
                });
            });

            // Search input listener
            if (searchInput) {
                searchInput.addEventListener('input', filterStore);
            }


            // --- Wishlist Logic ---
            
            /** Renders the wishlist items */
            function renderWishlist() {
                const wishlistGrid = document.getElementById('wishlist-grid');
                if (!wishlistGrid) return;
                
                wishlistGrid.innerHTML = '';
                
                if (wishlist.length === 0) {
                    wishlistGrid.innerHTML = '<div class="col-span-full text-center text-gray-500 py-12 text-lg">Your wishlist is empty.</div>';
                    return;
                }

                wishlist.forEach((item) => {
                    const itemHtml = `
                    <div class="product-card group cursor-pointer relative animate-fade-in" data-price="${item.price}">
                        <button class="wishlist-btn active absolute top-3 right-3 z-10 p-2 rounded-full hover:bg-white/50 transition-colors" aria-label="Remove from wishlist" data-name="${item.name}">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-brand-black" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                            </svg>
                        </button>
                        <div class="bg-gray-50 rounded-lg overflow-hidden shadow-sm border border-brand-black border-opacity-10 mb-4 aspect-[3/4]">
                            <img src="${item.img}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-500 ease-in-out grayscale hover:grayscale-0">
                        </div>
                        <h4 class="font-body font-bold text-lg">${item.name}</h4>
                        <p class="font-body text-brand-black opacity-70">$${item.price}</p>
                    </div>
                    `;
                    wishlistGrid.insertAdjacentHTML('beforeend', itemHtml);
                });
            }

            /** Toggles an item in the wishlist */
            function toggleWishlist(btn, productData = null) {
                // If we are on the Detail page
                if (btn.id === 'detail-wishlist-btn') {
                    const title = document.getElementById('detail-title').textContent;
                    const img = document.getElementById('detail-image').src;
                    const priceTxt = document.getElementById('detail-price').textContent;
                    const price = parseInt(priceTxt.replace(/[^0-9]/g, ''));
                    
                    const existingIndex = wishlist.findIndex(item => item.name === title);
                    if (existingIndex > -1) {
                        wishlist.splice(existingIndex, 1);
                        btn.classList.remove('active');
                    } else {
                        wishlist.push({ name: title, img: img, price: price });
                        btn.classList.add('active');
                    }
                } 
                // If we are on a Card (Store/Home/Wishlist page)
                else {
                    const card = btn.closest('.product-card');
                    let name, img, price;

                    // If clicking remove on Wishlist page, we might need data from button attributes if card structure differs
                    // But here structure is consistent.
                    if (card) {
                         name = card.querySelector('h4').textContent;
                         img = card.querySelector('img').src;
                         price = parseInt(card.dataset.price || card.querySelector('p')?.textContent.replace(/[^0-9]/g, '') || 0);
                    } else if (btn.dataset.name) {
                        // Fallback if for some reason card isn't found but we stored data on btn
                        name = btn.dataset.name;
                    }

                    if (!name) return;

                    const existingIndex = wishlist.findIndex(item => item.name === name);
                    
                    if (existingIndex > -1) {
                        // Remove
                        wishlist.splice(existingIndex, 1);
                        btn.classList.remove('active');
                        
                        // If we are currently viewing the wishlist page, re-render to remove the item visually
                        const wishlistSection = document.querySelector('.page-section[data-page="wishlist"]');
                        if (wishlistSection && wishlistSection.classList.contains('active')) {
                            renderWishlist();
                        }
                    } else {
                        // Add
                        wishlist.push({ name: name, img: img, price: price });
                        btn.classList.add('active');
                    }
                }
                
                // Sync UI: If we modified the wishlist, we should update all heart icons across the site to match state
                updateAllHeartIcons();
            }

            function updateAllHeartIcons() {
                // Update all buttons on cards
                document.querySelectorAll('.product-card .wishlist-btn').forEach(btn => {
                    const card = btn.closest('.product-card');
                    const name = card.querySelector('h4').textContent;
                    const isInWishlist = wishlist.some(i => i.name === name);
                    if (isInWishlist) btn.classList.add('active');
                    else btn.classList.remove('active');
                });
                
                // Update detail page button if visible
                const detailTitle = document.getElementById('detail-title');
                const detailBtn = document.getElementById('detail-wishlist-btn');
                if (detailTitle && detailBtn) {
                    const name = detailTitle.textContent;
                    const isInWishlist = wishlist.some(i => i.name === name);
                    if (isInWishlist) detailBtn.classList.add('active');
                    else detailBtn.classList.remove('active');
                }
            }

            // Wishlist Button Click Listener (Delegation)
            document.addEventListener('click', (e) => {
                const btn = e.target.closest('.wishlist-btn');
                if (btn) {
                    e.preventDefault();
                    e.stopPropagation();
                    toggleWishlist(btn);
                }
            });

            // --- Size Guide Modal Logic ---
            const modal = document.getElementById('size-guide-modal');
            const trigger = document.getElementById('size-guide-trigger');
            const closeBtn = document.getElementById('close-size-guide');
            const closeBtnBottom = document.getElementById('close-size-guide-btn');

            function openModal() {
                modal.classList.remove('hidden-modal');
                modal.classList.add('visible-modal');
            }

            function closeModal() {
                modal.classList.remove('visible-modal');
                modal.classList.add('hidden-modal');
            }

            if(trigger) trigger.addEventListener('click', openModal);
            if(closeBtn) closeBtn.addEventListener('click', closeModal);
            if(closeBtnBottom) closeBtnBottom.addEventListener('click', closeModal);

            // Close modal when clicking outside
            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });


            // --- Navigation and Menu Logic ---

            /** Closes the mobile navigation menu. */
            function closeMenu() {
                if (menuOverlay) menuOverlay.classList.remove('menu-open');
                if (iconPlus) iconPlus.classList.remove('hidden');
                if (iconMinus) iconMinus.classList.add('hidden');
                if (menuToggleBtn) {
                    menuToggleBtn.setAttribute('aria-expanded', 'false');
                    menuToggleBtn.setAttribute('title', 'Open menu');
                }
            }

            /** Opens the mobile navigation menu. */
            function openMenu() {
                if (menuOverlay) menuOverlay.classList.add('menu-open');
                if (iconPlus) iconPlus.classList.add('hidden');
                if (iconMinus) iconMinus.classList.remove('hidden');
                if (menuToggleBtn) {
                    menuToggleBtn.setAttribute('aria-expanded', 'true');
                    menuToggleBtn.setAttribute('title', 'Close menu');
                }
            }

            /**
             * Hides all content pages and shows the target page.
             * @param {string} pageName - The data-page attribute value to show.
             */
            function showPage(pageName) {
                // Hide all pages
                pages.forEach(page => {
                    page.classList.remove('active');
                });

                // Show the target page
                const targetPage = document.querySelector(`.page-section[data-page="${pageName}"]`);
                if (targetPage) {
                    targetPage.classList.add('active');
                }

                // Special logic for checkout page render
                if (pageName === 'checkout') {
                    renderCheckout();
                }
                
                // Special logic for wishlist page render
                if (pageName === 'wishlist') {
                    renderWishlist();
                }

                // Scroll to top
                window.scrollTo(0, 0);

                // Close menu if open
                closeMenu();
            }

            // Add click listener to all navigation links
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const pageName = this.getAttribute('data-nav');

                    // Handle internal page links (e.g., from footer) which should only scroll on the home page
                    if (pageName === 'home' && this.closest('footer')) {
                        showPage('home');
                        setTimeout(() => {
                            // Scroll to 'About' section for footer links
                            document.getElementById('about')?.scrollIntoView({ behavior: 'smooth' });
                        }, 100);
                    } else if (pageName) {
                        showPage(pageName);
                    }
                    
                    // Close any open footer accordions
                    footerAccordionBtns.forEach(btn => {
                        btn.classList.remove('open');
                        const content = btn.nextElementSibling;
                        if (content) content.classList.add('hidden');
                        const icon = btn.querySelector('span');
                        if (icon) icon.textContent = '+';
                    });
                });
            });

            // Toggle menu with main header button
            if (menuToggleBtn) {
                menuToggleBtn.addEventListener('click', function() {
                    const isMenuOpen = menuOverlay && menuOverlay.classList.contains('menu-open');
                    if (isMenuOpen) {
                        closeMenu();
                    } else {
                        openMenu();
                    }
                });
            }

            // Listener for inner menu close button
            if (menuCloseInner) {
                menuCloseInner.addEventListener('click', closeMenu);
            }

            // Cart Button Logic - Go to Checkout
            if (cartBtn) {
                cartBtn.addEventListener('click', (e) => {
                    e.preventDefault();
                    showPage('checkout');
                });
            }

            // Footer Accordion Logic (Mobile Only)
            footerAccordionBtns.forEach(button => {
                button.addEventListener('click', () => {
                    const content = button.nextElementSibling;
                    const icon = button.querySelector('span');

                    // Only toggle on small screens (based on CSS media query breakpoint)
                    if (window.innerWidth < 768) { 
                        const isOpen = !content.classList.contains('hidden');

                        if (isOpen) {
                            // Close this one
                            content.classList.add('hidden');
                            button.classList.remove('open');
                            if (icon) icon.textContent = '+';
                        } else {
                            // Close others and open this one
                            footerAccordionBtns.forEach(otherBtn => {
                                otherBtn.classList.remove('open');
                                const otherContent = otherBtn.nextElementSibling;
                                if (otherContent) otherContent.classList.add('hidden');
                                const otherIcon = otherBtn.querySelector('span');
                                if (otherIcon) otherIcon.textContent = '+';
                            });

                            content.classList.remove('hidden');
                            button.classList.add('open');
                            if (icon) icon.textContent = '';
                        }
                    }
                });
            });

        });
    </script>
</body>
</html>